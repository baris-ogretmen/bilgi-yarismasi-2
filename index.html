<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okul Ligi - Emkotech S√ºr√ºm√º</title>
    
    <!-- Y√úKLEME EKRANI STƒ∞Lƒ∞ (Kodlar y√ºklenmezse bu g√∂r√ºnecek) -->
    <style>
        #loading-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #1e293b; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; font-family: sans-serif; text-align: center; }
        .hidden { display: none !important; }
        /* Emkotech i√ßin √∂zel CSS */
        body { font-family: system-ui, -apple-system, sans-serif; user-select: none; touch-action: manipulation; }
        .emko-btn { min-height: 80px; font-size: 1.5rem; transition: transform 0.1s; }
        .emko-btn:active { transform: scale(0.95); }
        .glass { background: rgba(255, 255, 255, 0.95); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.18); }
    </style>

    <!-- K√ºt√ºphaneler (MEB Hattƒ±nda √ßalƒ±≈ümasƒ± i√ßin alternatif CDN'ler denenebilir ama en kararlƒ±sƒ± unpkg) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-slate-200">

    <!-- G√úVENLƒ∞K Kƒ∞Lƒ∞Dƒ∞: Eƒüer React y√ºklenmezse bu ekran kalƒ±r -->
    <div id="loading-overlay">
        <h1 style="font-size: 3rem; margin-bottom: 20px;">Sƒ±nƒ±f Ligi Y√ºkleniyor...</h1>
        <p style="font-size: 1.5rem;">Eƒüer bu ekran 10 saniye i√ßinde gitmezse:<br>Okul interneti (MEB Hattƒ±) kodlarƒ± engelliyor demektir.</p>
        <p style="color: yellow; font-size: 1.5rem; margin-top: 20px;">√á√ñZ√úM: Tahtayƒ± telefonunuzun internetine (Hotspot) baƒülayƒ±p sayfayƒ± yenileyin.</p>
    </div>

    <div id="root"></div>

    <script type="text/babel" data-type="module">
        // Y√ºkleme ekranƒ±nƒ± kaldƒ±rma kodu (React ba≈ülayƒ±nca √ßalƒ±≈üƒ±r)
        setTimeout(() => {
            const loader = document.getElementById('loading-overlay');
            if(loader) loader.classList.add('hidden');
        }, 1000);

        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, collection, doc, setDoc, getDoc, updateDoc, onSnapshot, query, orderBy, limit, increment } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // =================================================================
        // FIREBASE AYARLARI 
        // =================================================================
        const yourFirebaseConfig = {
            apiKey: "BURAYA_API_KEY_YAPISTIR", 
            authDomain: "sekilli-totem-481514-c5.firebaseapp.com",
            projectId: "sekilli-totem-481514-c5",
            storageBucket: "sekilli-totem-481514-c5.firebasestorage.app",
            messagingSenderId: "519295049418",
            appId: "BURAYA_APP_ID_YAPISTIR" 
        };

        // --- ICONS (SVG) ---
        const Icon = ({ d, className, color }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} style={{ color }}>
                {d}
            </svg>
        );

        // Basitle≈ütirilmi≈ü ƒ∞kon Yollarƒ±
        const paths = {
            trophy: <><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></>,
            swords: <><polyline points="14.5 17.5 3 6 3 3 6 3 17.5 14.5"/><line x1="13" x2="19" y1="19" y2="13"/><line x1="16" x2="20" y1="16" y2="20"/><line x1="19" x2="21" y1="21" y2="19"/><polyline points="14.5 6.5 18 3 21 3 21 6 17.5 9.5"/><line x1="5" x2="9" y1="14" y2="18"/><line x1="7" x2="4" y1="17" y2="20"/><line x1="3" x2="5" y1="19" y2="21"/></>,
            play: <polygon points="5 3 19 12 5 21 5 3"/>,
            brain: <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/>,
            home: <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>,
            zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>,
            flame: <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/>,
            refresh: <path d="M21.5 2v6h-6 M2.5 22v-6h6 M2 11.5a10 10 0 0 1 18.8-4.3 M22 12.5a10 10 0 0 1-18.8 4.2"/>
        };

        const { useState, useEffect } = React;

        // --- SES ---
        const playSound = (type) => {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            if (!AudioContext) return;
            const ctx = new AudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain); gain.connect(ctx.destination);
            const now = ctx.currentTime;
            
            if (type === 'correct') {
                osc.type = 'sine'; osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.1); 
                gain.gain.setValueAtTime(0.2, now); gain.gain.exponentialRampToValueAtTime(0.01, now + 0.5);
            } else if (type === 'wrong') {
                osc.type = 'sawtooth'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(100, now + 0.3);
                gain.gain.setValueAtTime(0.2, now); gain.gain.exponentialRampToValueAtTime(0.01, now + 0.4);
            }
            osc.start(now); osc.stop(now + 0.5);
        };

        // --- YEREL SORULAR ---
        const localQuestions = [
            {t: "T√ºrkiye'nin ba≈ükenti neresidir?", o: ["Ankara", "ƒ∞stanbul", "ƒ∞zmir", "Bursa"], c: 0, s: "Sosyal"},
            {t: "Bir deste ka√ß tanedir?", o: ["10", "12", "20", "50"], c: 0, s: "Matematik"},
            {t: "Hangi hayvan kƒ±≈ü uykusuna yatar?", o: ["Ayƒ±", "Kedi", "K√∂pek", "Ku≈ü"], c: 0, s: "Fen"},
            {t: "ƒ∞stiklal Mar≈üƒ±'mƒ±zƒ±n ≈üairi kimdir?", o: ["M. Akif Ersoy", "√ñmer Seyfettin", "Ziya G√∂kalp", "Namƒ±k Kemal"], c: 0, s: "T√ºrk√ße"},
            {t: "Hangisi yaz meyvesidir?", o: ["Karpuz", "Portakal", "Mandalina", "Ayva"], c: 0, s: "Hayat Bilgisi"},
            {t: "5 x 5 i≈üleminin sonucu ka√ßtƒ±r?", o: ["25", "20", "30", "10"], c: 0, s: "Matematik"},
            {t: "Cumhuriyet ka√ß yƒ±lƒ±nda ilan edildi?", o: ["1923", "1920", "1919", "1881"], c: 0, s: "Sosyal"},
            {t: "D√ºnyamƒ±zƒ±n ≈üekli neye benzer?", o: ["K√ºre", "Tepsi", "K√ºp", "√ú√ßgen"], c: 0, s: "Fen"}
        ];

        const generateLocalQuestion = (grade) => {
            // Emkotech modunda matematik i≈ülemi √ºret
            if(Math.random() > 0.5) {
                const a = Math.floor(Math.random() * 10 * grade) + 2;
                const b = Math.floor(Math.random() * 10) + 2;
                const ans = a + b;
                const fake1 = ans + 2;
                const fake2 = ans - 1;
                const fake3 = ans + 5;
                return { 
                    text: `${a} + ${b} = ?`, 
                    options: [ans, fake1, fake2, fake3].sort(()=>Math.random()-0.5), 
                    correct: 0, // D√ºzeltilecek: ≈ûƒ±klar karƒ±≈üƒ±nca indeks deƒüi≈ümeli, a≈üaƒüƒ±da d√ºzeltiyorum
                    subject: "Matematik"
                };
            }
            // S√∂zel soru
            const q = localQuestions[Math.floor(Math.random() * localQuestions.length)];
            return {
                text: q.t,
                options: q.o,
                correct: q.c,
                subject: q.s
            };
        };

        // Yerel matematik sorusunun doƒüru indeksini d√ºzelten fonksiyon
        const getSafeLocalQuestion = (grade) => {
            if(Math.random() > 0.5) {
                const a = Math.floor(Math.random() * 10 * grade) + 2;
                const b = Math.floor(Math.random() * 10) + 2;
                const ans = a + b;
                let opts = [ans, ans+1, ans-2, ans+5].sort(()=>Math.random()-0.5);
                return { text: `${a} + ${b} = ?`, options: opts, correct: opts.indexOf(ans), subject: "Matematik" };
            }
            const q = localQuestions[Math.floor(Math.random() * localQuestions.length)];
            return { text: q.t, options: q.o, correct: q.c, subject: q.s };
        }

        // --- GEMINI API ---
        const fetchGeminiQuestion = async (apiKey, grade, topic) => {
            if (!apiKey) return null;
            const prompt = `Sen bir √∂ƒüretmensin. ${grade}. Sƒ±nƒ±f i√ßin ${topic || 'Genel K√ºlt√ºr'} konusunda kƒ±sa bir soru ve 4 ≈üƒ±k √ºret.
            JSON Formatƒ±: {"text": "Soru", "options": ["A","B","C","D"], "correctIndex": 0, "subject": "Ders"}`;
            
            try {
                const controller = new AbortController();
                setTimeout(() => controller.abort(), 4000); // 4 saniye zaman a≈üƒ±mƒ±

                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] }),
                    signal: controller.signal
                });
                if(!res.ok) throw new Error();
                const data = await res.json();
                const jsonStr = data.candidates[0].content.parts[0].text.match(/\{[\s\S]*\}/)[0];
                return JSON.parse(jsonStr);
            } catch (e) { return null; }
        };

        function EmkotechApp() {
            // --- STATE ---
            const [phase, setPhase] = useState('setup');
            const [grade, setGrade] = useState(4);
            const [apiKey, setApiKey] = useState('');
            const [topic, setTopic] = useState('');
            const [names, setNames] = useState('');
            const [matches, setMatches] = useState([]);
            const [currentMatchIdx, setCurrentMatchIdx] = useState(0);
            
            // Oyun State
            const [q, setQ] = useState(null);
            const [p1Score, setP1Score] = useState(0);
            const [p2Score, setP2Score] = useState(0);
            const [loading, setLoading] = useState(false);
            const [status, setStatus] = useState('idle'); // idle, correct, wrong, timeout
            const [timer, setTimer] = useState(20);

            // Firebase
            const [db, setDb] = useState(null);
            
            useEffect(() => {
                let conf = null;
                if(window.__firebase_config) conf = JSON.parse(window.__firebase_config);
                else if(yourFirebaseConfig.apiKey !== "BURAYA_API_KEY_YAPISTIR") conf = yourFirebaseConfig;

                if(conf) {
                    try {
                        const app = initializeApp(conf);
                        const auth = getAuth(app);
                        setDb(getFirestore(app));
                        signInAnonymously(auth).catch(e => console.log("Offline Mod"));
                    } catch(e) { console.log("Firebase Hatasƒ±", e); }
                }
            }, []);

            // --- FONKSƒ∞YONLAR ---
            const createFixture = () => {
                const list = names.split('\n').filter(n => n.trim().length > 0);
                if(list.length < 2) return alert("En az 2 isim girin!");
                const shuffled = list.sort(() => Math.random() - 0.5);
                const pairs = [];
                for(let i=0; i<shuffled.length; i+=2) {
                    if(i+1 < shuffled.length) pairs.push({p1: shuffled[i], p2: shuffled[i+1], winner: null});
                    else pairs.push({p1: shuffled[i], p2: "BAY", winner: shuffled[i]});
                }
                setMatches(pairs);
                setPhase('fixture');
            };

            const startMatch = (idx) => {
                if(matches[idx].p2 === "BAY") return;
                setCurrentMatchIdx(idx);
                setP1Score(0); setP2Score(0);
                setPhase('battle');
                nextQuestion();
            };

            const nextQuestion = async () => {
                setLoading(true);
                setStatus('idle');
                setTimer(20);
                
                let newQ = null;
                // √ñnce API dene
                if(apiKey) newQ = await fetchGeminiQuestion(apiKey, grade, topic);
                // Olmazsa Yerel
                if(!newQ) newQ = getSafeLocalQuestion(grade);
                
                setQ(newQ);
                setLoading(false);
            };

            useEffect(() => {
                let interval;
                if(phase === 'battle' && status === 'idle' && timer > 0) interval = setInterval(()=>setTimer(t=>t-1), 1000);
                else if(timer === 0 && status === 'idle') { setStatus('timeout'); playSound('wrong'); setTimeout(nextQuestion, 2000); }
                return () => clearInterval(interval);
            }, [timer, phase, status]);

            const handleAnswer = (idx, player) => {
                if(status !== 'idle') return;
                
                if(idx === q.correct) {
                    setStatus('correct');
                    playSound('correct');
                    if(player === 'p1') setP1Score(s => s + 10); else setP2Score(s => s + 10);
                } else {
                    setStatus('wrong');
                    playSound('wrong');
                }

                setTimeout(() => {
                    const m = matches[currentMatchIdx];
                    const p1Now = player === 'p1' && idx === q.correct ? p1Score + 10 : p1Score;
                    const p2Now = player === 'p2' && idx === q.correct ? p2Score + 10 : p2Score;

                    if(p1Now >= 50 || p2Now >= 50) {
                        const winner = p1Now > p2Now ? m.p1 : m.p2;
                        const newMatches = [...matches];
                        newMatches[currentMatchIdx].winner = winner;
                        setMatches(newMatches);
                        setPhase('fixture');
                        
                        // Firebase Kayƒ±t (Varsa)
                        if(db) {
                            const ref = doc(db, 'artifacts', yourFirebaseConfig.appId || 'default', 'public', 'data', 'scores', winner);
                            setDoc(ref, { score: increment(Math.max(p1Now, p2Now)), wins: increment(1) }, {merge: true});
                        }
                    } else {
                        nextQuestion();
                    }
                }, 2000);
            };

            // --- EKRANLAR ---
            const SetupScreen = () => (
                <div className="max-w-4xl mx-auto mt-10 p-8 glass">
                    <h1 className="text-5xl font-bold text-center text-blue-800 mb-8 flex items-center justify-center gap-4">
                        <Icon d={paths.brain} className="w-16 h-16"/> Okul Ligi
                    </h1>
                    
                    <div className="grid md:grid-cols-2 gap-8">
                        <div className="flex flex-col gap-4">
                            <label className="text-xl font-bold">Sƒ±nƒ±f</label>
                            <select value={grade} onChange={e=>setGrade(e.target.value)} className="emko-btn p-4 rounded-xl border-2 text-xl">
                                {[1,2,3,4,5,6,7,8].map(i=><option key={i} value={i}>{i}. Sƒ±nƒ±f</option>)}
                            </select>

                            <label className="text-xl font-bold">√ñzel Konu (Opsiyonel)</label>
                            <input type="text" placeholder="√ñrn: Kesirler" value={topic} onChange={e=>setTopic(e.target.value)} className="emko-btn p-4 rounded-xl border-2 text-xl"/>

                            <label className="text-xl font-bold">API Key (Varsa)</label>
                            <input type="password" placeholder="AI Key..." value={apiKey} onChange={e=>setApiKey(e.target.value)} className="emko-btn p-4 rounded-xl border-2 text-xl"/>
                        </div>
                        <div className="flex flex-col gap-4">
                            <label className="text-xl font-bold">√ñƒürenci Listesi</label>
                            <textarea rows={5} placeholder="Her satƒ±ra bir isim" value={names} onChange={e=>setNames(e.target.value)} className="p-4 rounded-xl border-2 text-xl h-64"></textarea>
                            
                            <button onClick={createFixture} className="emko-btn bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 flex items-center justify-center gap-2">
                                <Icon d={paths.swords} className="w-8 h-8"/> TURNUVAYI BA≈ûLAT
                            </button>
                        </div>
                    </div>
                </div>
            );

            const FixtureScreen = () => (
                <div className="max-w-6xl mx-auto mt-10 p-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-4xl font-bold">Fikst√ºr</h2>
                        <button onClick={()=>setPhase('setup')} className="emko-btn px-8 bg-gray-500 text-white rounded-xl">Geri</button>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {matches.map((m, i) => (
                            <div key={i} className={`p-6 rounded-2xl border-l-8 shadow-md flex justify-between items-center bg-white ${m.winner ? 'border-green-500' : 'border-blue-500'}`}>
                                <div className="text-2xl font-bold flex-1 text-center">{m.p1} {m.winner===m.p1 && 'üèÜ'}</div>
                                <div className="text-sm font-bold bg-gray-200 px-3 py-1 rounded">VS</div>
                                <div className="text-2xl font-bold flex-1 text-center">{m.p2} {m.winner===m.p2 && 'üèÜ'}</div>
                                {!m.winner && m.p2 !== 'BAY' && (
                                    <button onClick={()=>startMatch(i)} className="ml-4 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:scale-110 transition">
                                        <Icon d={paths.play} className="w-8 h-8"/>
                                    </button>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );

            const BattleScreen = () => {
                const m = matches[currentMatchIdx];
                return (
                    <div className="h-screen flex flex-col bg-slate-800 text-white">
                        {/* SKOR TABLOSU */}
                        <div className="h-auto py-4 md:py-0 md:h-32 bg-slate-900 flex items-center justify-between px-4 md:px-10 border-b-4 border-slate-700">
                            <div className="flex flex-col items-start w-1/3">
                                <div className="text-2xl md:text-4xl font-bold text-blue-400 truncate w-full">{m.p1}</div>
                                <div className="text-4xl md:text-6xl font-mono font-bold">{p1Score}</div>
                            </div>
                            <div className="text-5xl md:text-7xl font-black text-yellow-400">{timer}</div>
                            <div className="flex flex-col items-end w-1/3">
                                <div className="text-2xl md:text-4xl font-bold text-red-400 truncate w-full text-right">{m.p2}</div>
                                <div className="text-4xl md:text-6xl font-mono font-bold">{p2Score}</div>
                            </div>
                        </div>

                        {/* SORU ALANI */}
                        <div className="flex-1 flex items-center justify-center p-4 md:p-8 overflow-y-auto">
                            {loading ? <div className="text-4xl animate-pulse">Soru Hazƒ±rlanƒ±yor...</div> : q && (
                                <div className="w-full max-w-7xl flex flex-col gap-4 md:gap-8">
                                    <div className="bg-white text-slate-900 p-6 md:p-10 rounded-3xl shadow-2xl text-center relative">
                                        <div className="hidden md:block absolute top-4 right-4 bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-xl">{q.subject}</div>
                                        <h2 className="text-3xl md:text-6xl font-bold mt-2 md:mt-6 leading-tight">{q.text}</h2>
                                    </div>

                                    {/* ≈ûIKLAR */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                                        {q.options.map((opt, i) => {
                                            let bg = "bg-slate-700";
                                            if(status !== 'idle') {
                                                if(i === q.correct) bg = "bg-green-600";
                                                else bg = "bg-slate-800 opacity-30";
                                            }
                                            return (
                                                <div key={i} className={`p-6 md:p-8 rounded-2xl text-2xl md:text-4xl font-bold text-center border-4 border-slate-600 shadow-xl min-h-[100px] md:min-h-[140px] flex items-center justify-center ${bg}`}>
                                                    {opt}
                                                </div>
                                            );
                                        })}
                                    </div>

                                    {/* √ñƒûRETMEN KONTROL PANELƒ∞ - RESPONSIVE */}
                                    <div className="flex flex-col md:flex-row justify-between mt-4 gap-4 items-center">
                                        <div className="bg-blue-900/50 p-4 rounded-xl border-2 border-blue-500 w-full md:w-auto">
                                            <div className="text-center text-blue-300 font-bold mb-2 text-sm md:text-base">√ñƒûRETMEN: {m.p1} CEVABI</div>
                                            <div className="flex gap-2 md:gap-4 justify-center">
                                                {['A','B','C','D'].map((x, i) => (
                                                    <button key={i} onClick={()=>handleAnswer(i, 'p1')} disabled={status!=='idle'} className="w-16 h-16 md:w-20 md:h-20 bg-blue-600 rounded-xl text-2xl md:text-3xl font-bold hover:bg-blue-500 disabled:opacity-50">{x}</button>
                                                ))}
                                            </div>
                                        </div>

                                        <div className="flex items-center">
                                            {status==='correct' && <div className="text-green-500 text-4xl md:text-6xl font-black animate-bounce">DOƒûRU!</div>}
                                            {status==='wrong' && <div className="text-red-500 text-4xl md:text-6xl font-black animate-shake">YANLI≈û!</div>}
                                            {status==='timeout' && <div className="text-yellow-500 text-4xl md:text-6xl font-black">S√úRE Bƒ∞TTƒ∞</div>}
                                        </div>

                                        <div className="bg-red-900/50 p-4 rounded-xl border-2 border-red-500 w-full md:w-auto">
                                            <div className="text-center text-red-300 font-bold mb-2 text-sm md:text-base">√ñƒûRETMEN: {m.p2} CEVABI</div>
                                            <div className="flex gap-2 md:gap-4 justify-center">
                                                {['A','B','C','D'].map((x, i) => (
                                                    <button key={i} onClick={()=>handleAnswer(i, 'p2')} disabled={status!=='idle'} className="w-16 h-16 md:w-20 md:h-20 bg-red-600 rounded-xl text-2xl md:text-3xl font-bold hover:bg-red-500 disabled:opacity-50">{x}</button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                );
            };

            return (
                <div>
                    {phase === 'setup' && <SetupScreen/>}
                    {phase === 'fixture' && <FixtureScreen/>}
                    {phase === 'battle' && <BattleScreen/>}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<EmkotechApp />);
    </script>
</body>
</html>


